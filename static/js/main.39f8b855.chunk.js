(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){e.exports=n(26)},,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(11),o=n.n(r),u=(n(20),n(12)),c=n(13),l=n(3),s=n(4),d=n(7),m=n(5),v=n(1),h=n(6),E=n(8),f=n.n(E);n(22);function b(e){return!0!==isNaN(parseInt(e.key,10))||e.preventDefault()}function g(e){return""===e?-1:parseInt(e,10)}function p(e,t){return 3600*e+60*t}n(23),n(10);var S=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).state={visible:!1},e.toggleVisible=e.toggleVisible.bind(Object(v.a)(e)),e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"toggleVisible",value:function(){this.setState(function(e){return{visible:!e.visible}})}},{key:"render",value:function(){var e=this,t=!0===this.state.visible?"overlay__modal overlay__modal--visible":"overlay__modal";return i.a.createElement("div",{className:"overlay"},i.a.createElement("span",{onClick:function(){return e.toggleVisible()}},"info"),i.a.createElement("div",{className:t},i.a.createElement("span",{className:"overlay__close",onClick:function(){return e.toggleVisible()}},i.a.createElement("i",{class:"close icon"}),"close"),this.props.children))}}]),t}(a.Component),O=(n(24),function(e){var t=p(e.hour,e.minute)-(p(e.timeNow.hour,e.timeNow.minute)+e.timeNow.seconds),n=t>0?function(e){var t=e,n=Math.floor(t/3600).toString().padStart(2,0);t-=3600*n;var a=Math.floor(t/60).toString().padStart(2,0);return t=(t-=60*a).toString().padStart(2,0),"".concat(n,":").concat(a,":").concat(t)}(t):"tomorrow";return i.a.createElement("div",{className:"countdown"},i.a.createElement("strong",null,e.name)," - ",n,i.a.createElement("div",{className:"countdown__icons"},i.a.createElement("i",{className:"icon edit",title:"edit",onClick:function(){return e.onEditInit(e.id)}}),i.a.createElement("i",{className:"icon times",title:"close",onClick:function(){return e.onRemove(e.id)}})),i.a.createElement(S,null,i.a.createElement("h1",null,e.name),i.a.createElement("p",null,i.a.createElement("i",{class:"clock outline icon"}),e.hour.toString().padStart(2,0),":",e.minute.toString().padStart(2,0))))}),y=n(2),j=(n(25),function(e){var t=e.name.length>0&&function(e){return e>=0&&e<=23}(e.hour)&&function(e){return e>=0&&e<=59}(e.minute),n=""===e.name&&-1===e.hour&&-1===e.minute;return i.a.createElement("div",{className:"edit-event"},i.a.createElement("div",{className:"edit-event__input-group"},i.a.createElement("label",{htmlFor:"name"},"name"),i.a.createElement("input",{type:"text",id:"name",name:"name",value:e.name,onChange:function(t){return e.onInputChange(Object(y.a)({},t.target.name,t.target.value))}})),i.a.createElement("div",{className:"edit-event__input-group"},i.a.createElement("label",{htmlFor:"hour"},"hour"),i.a.createElement("input",{type:"tel",id:"hour",name:"hour",value:-1===e.hour?"":e.hour,onKeyPress:function(e){return b(e)},onChange:function(t){return e.onInputChange(Object(y.a)({},t.target.name,g(t.target.value)))}})),i.a.createElement("div",{className:"edit-event__input-group"},i.a.createElement("label",{htmlFor:"minute"},"minute"),i.a.createElement("input",{type:"tel",id:"minute",name:"minute",value:-1===e.minute?"":e.minute,onKeyPress:function(e){return b(e)},onChange:function(t){return e.onInputChange(Object(y.a)({},t.target.name,g(t.target.value)))}})),i.a.createElement("button",{disabled:!t,onClick:function(){return e.onSave()}},"OK"),i.a.createElement("button",{disabled:n,onClick:function(){return e.onCancel()}},"Cancel"),i.a.createElement("button",{onClick:function(){return e.onSort()}},"Sort"))}),k=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).state={now:{hour:(new Date).getHours(),minute:(new Date).getMinutes(),seconds:(new Date).getSeconds()},events:[],editedEvent:{id:f()(),name:"",hour:-1,minute:-1}},e.timer=e.timer.bind(Object(v.a)(e)),e.handleEditEvent=e.handleEditEvent.bind(Object(v.a)(e)),e.handleSaveEvent=e.handleSaveEvent.bind(Object(v.a)(e)),e.handleRemoveEvent=e.handleRemoveEvent.bind(Object(v.a)(e)),e.handleEditInit=e.handleEditInit.bind(Object(v.a)(e)),e.handleEditCancel=e.handleEditCancel.bind(Object(v.a)(e)),e.handleSortEvent=e.handleSortEvent.bind(Object(v.a)(e)),e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"timer",value:function(){this.setState({now:{hour:(new Date).getHours(),minute:(new Date).getMinutes(),seconds:(new Date).getSeconds()}})}},{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("events"))||[];this.setState({events:e});var t=setInterval(this.timer,1e3);this.setState({intervalId:t})}},{key:"componentWillUnmount",value:function(e,t){clearInterval(this.state.intervalId)}},{key:"handleEditEvent",value:function(e){this.setState(function(t){return{editedEvent:Object.assign(t.editedEvent,e)}})}},{key:"handleSaveEvent",value:function(){var e=this;this.setState(function(e){return{events:e.events.find(function(t){return t.id===e.editedEvent.id})?e.events.map(function(t){return t.id===e.editedEvent.id?e.editedEvent:t}):[].concat(Object(c.a)(e.events),[e.editedEvent]),editedEvent:{id:f()(),name:"",hour:-1,minute:-1}}},function(){return localStorage.setItem("events",JSON.stringify(e.state.events))})}},{key:"handleRemoveEvent",value:function(e){var t=this;this.setState(function(t){return{events:t.events.filter(function(t){return t.id!==e})}},function(){return localStorage.setItem("events",JSON.stringify(t.state.events))})}},{key:"handleEditInit",value:function(e){this.setState(function(t){return{editedEvent:Object(u.a)({},t.events.find(function(t){return t.id===e}))}})}},{key:"handleEditCancel",value:function(){this.setState({editedEvent:{id:f()(),name:"",hour:-1,minute:-1}})}},{key:"handleSortEvent",value:function(){this.state.events.sort(function(e,t){return e.hour!==t.hour?e.hour-t.hour:e.minute-t.minute})}},{key:"render",value:function(){var e=this,t=this.state.events.map(function(t){return i.a.createElement(O,{key:t.id,id:t.id,name:t.name,hour:t.hour,minute:t.minute,timeNow:e.state.now,onRemove:function(t){return e.handleRemoveEvent(t)},onEditInit:function(t){return e.handleEditInit(t)}})});return i.a.createElement("div",{className:"app"},t,i.a.createElement(j,{name:this.state.editedEvent.name,hour:this.state.editedEvent.hour,minute:this.state.editedEvent.minute,onInputChange:function(t){return e.handleEditEvent(t)},onSave:function(){return e.handleSaveEvent()},onCancel:function(){return e.handleEditCancel()},onSort:function(){return e.handleSortEvent()}}))}}]),t}(a.Component);o.a.render(i.a.createElement(k,null),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.39f8b855.chunk.js.map